#!/usr/python
import socket 
import os
import re
s=socket.socket()
os.system('dialog --inputbox "Enter the Ip Address" 10 30 2> /tmp/ip')
os.system('dialog --inputbox "Enter the PORT number that you may want to open" 10 30 2> /tmp/port')
ipn=open('/tmp/ip')
ipname=ipn.read(50)
pn=int(open('/tmp/port').read(50))
s.bind((ipname , pn))
s.listen(5)
while True:
	c,addr=s.accept()
	c.send("CMD:")
	cmd=c.recv(1024)
	if not cmd:break
	cmd1=re.sub("[^A-Z a-z 0-9]",' ',cmd)
	os.system( cmd1 +' > /tmp/cmd1 ')
	cmd1_send=open('/tmp/cmd1').read(500)
	c.send(cmd1_send)
		

close()

